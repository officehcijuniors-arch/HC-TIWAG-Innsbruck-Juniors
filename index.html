<!-- Seite 7: SpielerFotos Galerie -->
<section class="page page-7">
  <div class="gallery-container" id="gallery"></div>
  <div class="shark-gif"></div>
</section>

<style>
/* === Seite 7: SpielerFotos professionelle 16:9 Galerie === */
.page-7 {
  display: flex;
  justify-content: center;
  align-items: center;
  overflow: hidden;
  background: linear-gradient(135deg,#003789 50%,#d42323 50%);
  background-size: 200% 200%;
  position: relative;
}

.gallery-container {
  position: relative;
  width: 90%;
  max-width: 1920px; /* TV Full HD */
  aspect-ratio: 16/9;
  overflow: hidden;
}

.gallery-container img {
  position: absolute;
  top: 50%;
  left: 50%;
  width: auto;
  height: 60%; /* kleinere Bilder */
  max-width: 60%;
  transform: translate(-50%, -50%);
  border-radius: 15px;
  box-shadow: 0 10px 25px rgba(0,0,0,0.6);
  opacity: 0;
  transition: all 0.7s ease;
  object-fit: cover;
}

.page-7 .shark-gif {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 400px;
  height: 400px;
  transform: translate(-50%, -50%);
  opacity: 0.25;
  pointer-events: none;
  filter: drop-shadow(0 0 25px rgba(0,0,0,0.6));
  animation: float 4s ease-in-out infinite;
}

@keyframes float {
  0%,100% { transform: translate(-50%, -50%) translateY(0); }
  50% { transform: translate(-50%, -50%) translateY(-10px); }
}
</style>

<script>
async function startGalleryAnimation(){
    const container=document.getElementById('gallery'); 
    container.innerHTML='';

    const apiUrl="https://api.github.com/repos/officehcijuniors-arch/HC-TIWAG-Innsbruck-Juniors/contents/SpielerFotos";
    try{
        const res=await fetch(apiUrl); 
        const files=await res.json();
        const images=files.filter(f=>f.name.match(/\.(png|jpe?g)$/i));

        images.forEach((file,i)=>{
            const img=document.createElement('img');
            img.src=`https://raw.githubusercontent.com/officehcijuniors-arch/HC-TIWAG-Innsbruck-Juniors/main/SpielerFotos/${file.name}`;
            img.style.zIndex=i+1;
            container.appendChild(img);
        });

        let idx=0;
        const imgs=container.querySelectorAll('img');

        function animateNext(){
            imgs.forEach((img,i)=>{
                // leichte zufällige Bewegung innerhalb des Containers
                const offsetX=(Math.random()*40-20); // ±20px horizontal
                const offsetY=(Math.random()*40-20); // ±20px vertical
                const scale=0.6 + Math.random()*0.4; // Skala 0.6–1

                img.style.opacity=0;
                img.style.transform=`translate(${offsetX}px,${offsetY}px) scale(${scale})`;
            });

            // aktuelles Bild in der Mitte sichtbar
            const currentImg=imgs[idx];
            currentImg.style.opacity=1;
            currentImg.style.transform='translate(0,0) scale(1)';

            idx=(idx+1)%imgs.length;
            setTimeout(animateNext, 4000); // 4 Sekunden pro Bild
        }

        animateNext();

    } catch(err){
        console.error("❌ Fehler beim Laden der SpielerFotos:",err);
    }
}
</script>
